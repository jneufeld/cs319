@model DREAM.Models.ChartModel
@using DREAM.Helpers

<li>
    @using (var scope = Html.BeginCollectionItem("Charts"))
    {
        <span>
            @Html.LabelFor(model => model.Name)
            @Html.EditorFor(model => model.Name)
            @Html.ValidationMessageFor(model => model.Name)

            @Html.LabelFor(model => model.StartDate)
            @Html.EditorFor(model => model.StartDate)
            @Html.ValidationMessageFor(model => model.StartDate)

            @Html.LabelFor(model => model.TimeRange)
            @Html.EditorFor(model => model.TimeRange)
            @Html.ValidationMessageFor(model => model.TimeRange)

            @Html.LabelFor(model => model.Granularity)
            @Html.EditorFor(model => model.Granularity)
            @Html.ValidationMessageFor(model => model.Granularity)

            @Html.LabelFor(model => model.ChartType)
            @Html.EditorFor(model => model.ChartType)
            @Html.ValidationMessageFor(model => model.ChartType)

            @Html.LabelFor(model => model.Comparison)
            @Html.EditorFor(model => model.Comparison)
            @Html.ValidationMessageFor(model => model.Comparison)
        </span>

        <h3>Values</h3>
        <a href="#" class="addNewValue">Add another</a>

        <ul class="chartValues" style="list-style-type: none">
            @if(Model == null || Model.Values == null || Model.Values.Count == 0)
            {
                @Html.Partial("ChartValueModel", null);
            }
            else
            {
                foreach(DREAM.Models.ChartValueModel value in Model.Values)
                {
                    @Html.Partial("ChartValueModel", value);
                }
            }
        </ul>
    }
</li>